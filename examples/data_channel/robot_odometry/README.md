# Robot Odometry Example

This example demonstrates how to read and display real-time robot odometry data from the Go2 robot using the `ROBOTODOM` topic.

## Overview

Robot odometry provides essential information about the robot's:
- **Position**: Current location in 3D space (X, Y, Z coordinates)
- **Orientation**: Current rotation/heading (quaternion or roll/pitch/yaw)
- **Linear Velocity**: Speed of movement in each axis
- **Angular Velocity**: Rotational speed around each axis
- **Timestamp**: When the data was captured

This data is typically generated by the robot's LiDAR system and sensor fusion algorithms.

## Files

- `robot_odometry.py` - Main example script that subscribes to odometry data

## Usage

### Prerequisites

1. Ensure your Go2 robot is powered on and connected
2. Make sure you have the WebRTC connection established (via LocalSTA, LocalAP, or Remote)
3. The robot's LiDAR system should be active for odometry data generation

### Running the Example

```bash
# Navigate to the robot odometry example directory
cd examples/data_channel/robot_odometry

# Run the example
python robot_odometry.py
```

### Connection Methods

The example uses `WebRTCConnectionMethod.LocalSTA` by default. You can modify the connection method in the script:

```python
# Local Station mode (default) - connect via local network
conn = Go2WebRTCConnection(WebRTCConnectionMethod.LocalSTA)

# Local Access Point mode - direct connection to robot's hotspot
# conn = Go2WebRTCConnection(WebRTCConnectionMethod.LocalAP)

# Remote mode - connection via Unitree cloud servers
# conn = Go2WebRTCConnection(WebRTCConnectionMethod.Remote)
```

## Output

The example displays real-time odometry data in a formatted table:

```
Go2 Robot Odometry (ROBOTODOM)
==============================
Timestamp: 1234567890.123456789

Position:
  X: 1.234567 m
  Y: -0.567890 m
  Z: 0.123456 m

Orientation:
  Quaternion - X: 0.000123
  Quaternion - Y: 0.000456
  Quaternion - Z: 0.000789
  Quaternion - W: 0.999999

Linear Velocity:
  VX: 0.123456 m/s
  VY: 0.000000 m/s
  VZ: 0.000000 m/s

Angular Velocity:
  WX: 0.000000 rad/s
  WY: 0.000000 rad/s
  WZ: 0.045678 rad/s
==============================
```

## Data Fields

### Position
- **X**: Forward/backward position (meters)
- **Y**: Left/right position (meters)  
- **Z**: Up/down position (meters)

### Orientation
The orientation can be represented as:
- **Quaternion**: 4D rotation representation (x, y, z, w)
- **RPY**: Roll, Pitch, Yaw angles in radians

### Velocities
- **Linear Velocity**: Speed of movement (m/s)
- **Angular Velocity**: Rotational speed (rad/s)

## Troubleshooting

### No Data Received
- Ensure the robot's LiDAR system is active
- Check WebRTC connection status
- Verify the robot is in a mode that generates odometry data

### Connection Issues
- Verify network connectivity to the robot
- Check robot IP address and connection method
- Ensure robot is powered on and WebRTC service is running

### Data Format Issues
The example is designed to handle different message formats. If you encounter formatting issues:
1. Uncomment the debug lines in `display_data()` function to see raw message structure
2. Modify the data extraction logic based on the actual message format

## Related Topics

This example uses the `ROBOTODOM` topic which maps to `rt/utlidar/robot_pose`. Related topics include:

- `SLAM_ODOMETRY`: SLAM-based odometry data
- `LIDAR_MAPPING_ODOM`: LiDAR mapping odometry  
- `LIDAR_LOCALIZATION_ODOM`: Localization odometry
- `LF_SPORT_MOD_STATE`: Sport mode state (includes some pose data)

## Notes

- The odometry data update frequency depends on the robot's sensor processing rate
- Data accuracy may vary based on environmental conditions and sensor quality
- Position coordinates are relative to the robot's starting position or a defined reference frame 